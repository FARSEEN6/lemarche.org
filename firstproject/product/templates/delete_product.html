{% extends "index.html" %}

{% block title %}Delete Product ‚Äì Le Marche{% endblock %}

{% block content %}
<div class="container py-5 d-flex justify-content-center">
  <div class="card shadow-lg p-4" style="max-width: 600px; width: 100%;">

    <div class="d-flex align-items-center mb-3">
      <div class="me-3">
        <span class="badge bg-danger rounded-circle p-3">üóëÔ∏è</span>
      </div>
      <div>
        <h2 class="fw-bold mb-0">Delete Product</h2>
        <small class="text-muted">This action cannot be undone.</small>
      </div>
    </div>

    <div class="alert alert-warning">
      <strong>Warning!</strong> You are about to permanently delete:
      <br>
      <span class="fw-bold">{{ product.p_name }}</span>
      {% if product.p_category %}
        <span class="text-muted"> ({{ product.p_category }})</span>
      {% endif %}
    </div>

    {% if product.p_image %}
      <div class="text-center mb-3">
        <img src="{{ product.p_image.url }}" alt="{{ product.p_name }}" 
             class="img-fluid rounded" style="max-height: 200px; object-fit: contain;">
      </div>
    {% endif %}

    {% if product.p_description %}
      <p class="text-muted">{{ product.p_description|truncatechars:150 }}</p>
    {% endif %}

    <form method="post" class="mt-3">
      {% csrf_token %}
      <div class="d-flex justify-content-end gap-3">
        <a href="{% url 'product' %}" class="btn btn-outline-secondary">Cancel</a>
        <button type="submit" class="btn btn-danger">Yes, delete permanently</button>
      </div>
    </form>

  </div>
</div>
{% endblock %}
